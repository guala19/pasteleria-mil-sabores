<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PastelerÃ­a 1000 Sabores Â· CatÃ¡logo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Pacifico&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css"/>
</head>
<body>
  <header class="border-bottom bg-white">
    <div class="container-fluid py-2 d-flex align-items-center gap-3">
      <h1 class="m-0 brand">
        <a href="index.html" class="text-decoration-none text-reset">
          PastelerÃ­a <span>1000 Sabores</span>
        </a>
      </h1>

      <div class="ms-auto"></div>
      <button class="btn btn-light boton-carrito d-flex align-items-center" type="button" data-bs-toggle="offcanvas" data-bs-target="#panelCarrito" aria-controls="panelCarrito">
        <span class="me-2" aria-hidden="true">ðŸ›’</span>
        <span id="contadorCarrito" class="badge text-bg-dark">0</span>
      </button>
    </div>
  </header>

  <main class="container-fluid my-3">
    <div class="p-3 bg-white rounded-3 shadow-sm mb-3">
      <div class="d-flex gap-2 flex-wrap">
        <!-- Filtro: Forma -->
        <div class="dropdown">
          <button class="btn btn-light filtro-btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            Forma
          </button>
          <div class="dropdown-menu p-3 filtro-menu">
            <label class="check-pill">
              <input type="checkbox" value="circular" data-group="forma">
              <span>Circular</span>
            </label>
            <label class="check-pill">
              <input type="checkbox" value="cuadrada" data-group="forma">
              <span>Cuadrada</span>
            </label>
          </div>
        </div>

        <!-- Filtro: Preferencias -->
        <div class="dropdown">
          <button class="btn btn-light filtro-btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            Preferencias
          </button>
          <div class="dropdown-menu p-3 filtro-menu">
            <label class="check-pill">
              <input type="checkbox" value="sin_azucar" data-group="prefs">
              <span>Sin azÃºcar</span>
            </label>
            <label class="check-pill">
              <input type="checkbox" value="sin_gluten" data-group="prefs">
              <span>Sin gluten</span>
            </label>
            <label class="check-pill">
              <input type="checkbox" value="vegano" data-group="prefs">
              <span>Vegana</span>
            </label>
          </div>
        </div>

        <!-- Filtro: CategorÃ­as -->
        <div class="dropdown">
          <button class="btn btn-light filtro-btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            CategorÃ­as
          </button>
          <div id="menuCategorias" class="dropdown-menu p-3 filtro-menu">
            <!-- Se rellena desde JS con tu listado -->
          </div>
        </div>
      </div>
    </div>


    <section class="p-3 bg-white rounded-3 shadow-sm">
      <h2 class="h4">CatÃ¡logo</h2>
      <div id="grid" class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-3"></div>
    </section>
  </main>

  <div class="offcanvas offcanvas-end" tabindex="-1" id="panelCarrito" aria-labelledby="tituloCarrito">
    <div class="offcanvas-header">
      <h2 class="offcanvas-title h4" id="tituloCarrito">Carrito</h2>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
    </div>
    <div class="offcanvas-body d-flex flex-column">
      <ul id="itemsCarrito" class="list-unstyled vstack gap-2"></ul>
      <div class="mt-3">
        <label class="form-label mb-1" for="codigoPromo">CÃ³digo promocional</label>
        <input id="codigoPromo" class="form-control" placeholder="FELICES50"/>
      </div>
      <div class="row g-2 mt-2 d-none">
        <div class="col-6">
          <label class="form-label mb-1" for="nacimiento">Nacimiento</label>
          <input id="nacimiento" type="date" class="form-control"/>
        </div>
        <div class="col-6">
          <label class="form-label mb-1" for="correoPromo">Correo</label>
          <input id="correoPromo" type="email" class="form-control" placeholder="usuario@duoc.cl"/>
        </div>
      </div>
      <button id="aplicarPromos" class="btn btn-outline-secondary mt-2">Aplicar</button>
      <p id="msgPromo" class="text-muted small mt-1"></p>
      <div class="mt-3 border-top pt-2">
        <div class="d-flex justify-content-between"><span>Subtotal</span><strong id="subtotalCarrito">$0</strong></div>
        <div class="d-flex justify-content-between"><span>Descuentos</span><strong id="descuentosCarrito">-$0</strong></div>
        <div class="d-flex justify-content-between fs-5"><span>Total</span><strong id="totalCarrito">$0</strong></div>
      </div>
      <button id="btnPagar" class="btn btn-dark mt-3">Ir a pagar</button>
    </div>
  </div>

  <footer class="text-center text-muted small py-3">
    Â© 2025 PastelerÃ­a 1000 Sabores
  </footer>

  <script type="module" src="data/products.js"></script>
  <script type="module" src="js/utilidades.js"></script>
  <script type="module" src="js/promociones.js"></script>
  <script type="module" src="js/carrito.js"></script>
  <script type="module" src="js/catalogo.js"></script>
</body>
</html>
